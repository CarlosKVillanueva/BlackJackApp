const modulo=(()=>{"use strict";let e=[],f=["C","D","H","S"],g=["J","Q","K","A"],h=[],a=document.querySelector("#btnPedir"),b=document.querySelector("#btnNuevo"),c=document.querySelector("#btnDetener"),i=document.querySelectorAll("small"),j=document.querySelectorAll(".divCartasJugador"),d=(d=2)=>{e=k(),h=[];for(let b=0;b<d;b++)h.push(0);i.forEach(a=>a.innerText=0),j.forEach(a=>a.innerHTML=""),c.disabled=!1,a.disabled=!1},k=()=>{e=[];for(let a=2;a<11;a++)for(let b of f)e.push(a+b);for(let c of f)for(let d of g)e.push(d+c);return _.shuffle(e)},l=()=>{if(0===e.length)throw"No hay mas cartas en el deck";return e.pop()},m=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:+a},n;a.addEventListener("click",()=>{let b=l();n=o(b,0),p(b,0),n>21?(console.warn("Perdiste!"),a.disabled=!0,c.disabled=!0,r(n)):21===n&&(console.warn("21!!"),a.disabled=!0,c.disabled=!0,r(n))}),c.addEventListener("click",()=>{a.disabled=!0,c.disabled=!0,r(n)}),b.addEventListener("click",()=>{d()});let o=(b,a)=>(h[a]+=m(b),i[a].innerText=h[a],h[a]),p=(b,c)=>{let a=document.createElement("img");a.src=`assets/cartas/${b}.png`,a.classList.add("carta"),j[c].append(a)},q=()=>{let[a,b]=h;setTimeout(()=>{b===a?alert("Nadie gana"):a>21||21===b?alert("Gana la IA"):(b>21||21===a)&&alert("Gana el Jugador")},500)},r=a=>{let b;do{let c=l(),d=h.length-1;b=o(c,d),p(c,d)}while(b<a&&a<=21)q()};return{nuevoJuego:d}})()